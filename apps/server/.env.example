# =============================================================================
# BabyPeek Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values
# Required variables are marked with [REQUIRED]
# Production-only requirements are marked with [PROD REQUIRED]

# =============================================================================
# Database [REQUIRED]
# =============================================================================
# PostgreSQL connection string (Neon serverless recommended)
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=

# =============================================================================
# Cloudflare R2 Storage [PROD REQUIRED]
# =============================================================================
# Get these from Cloudflare dashboard > R2 > Manage R2 API Tokens
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET_NAME=

# Optional: Public URL for R2 bucket (if using custom domain)
# R2_PUBLIC_URL=https://cdn.babypeek.io

# =============================================================================
# Gemini AI [PROD REQUIRED]
# =============================================================================
# Get from Google AI Studio: https://aistudio.google.com/apikey
GEMINI_API_KEY=

# =============================================================================
# Stripe Payments [PROD REQUIRED]
# =============================================================================
# Get from Stripe Dashboard > Developers > API keys
# Use sk_test_* for development, sk_live_* for production
STRIPE_SECRET_KEY=sk_test_
STRIPE_WEBHOOK_SECRET=whsec_

# =============================================================================
# Resend Email [PROD REQUIRED]
# =============================================================================
# Get from Resend Dashboard: https://resend.com/api-keys
RESEND_API_KEY=re_

# =============================================================================
# PostHog Analytics [OPTIONAL]
# =============================================================================
# Get from PostHog: https://app.posthog.com/project/settings
POSTHOG_KEY=

# =============================================================================
# Sentry Error Tracking [OPTIONAL]
# =============================================================================
# Get from Sentry: https://sentry.io/settings/projects/
SENTRY_DSN=

# =============================================================================
# Facebook Conversions API [OPTIONAL]
# =============================================================================
# Get from Meta Events Manager: https://business.facebook.com/events_manager
# Pixel ID: Same as client-side VITE_FACEBOOK_PIXEL_ID
FACEBOOK_PIXEL_ID=
# Access Token: Events Manager > Settings > Generate Access Token
FACEBOOK_ACCESS_TOKEN=

# =============================================================================
# CORS Configuration
# =============================================================================
# Frontend URL for CORS (include protocol, no trailing slash)
CORS_ORIGIN=http://localhost:3001

# =============================================================================
# Rate Limiting [OPTIONAL]
# =============================================================================
# Salt for hashing IP addresses (GDPR compliance)
# Generate a random string for production
IP_HASH_SALT=your-random-salt-string

# Development bypass token (only works in NODE_ENV=development)
# Set this to allow bypassing rate limits in development/testing
RATE_LIMIT_BYPASS_TOKEN=dev-bypass-token

# =============================================================================
# Workflow (Vercel Workflow DevKit) [AUTO-CONFIGURED]
# =============================================================================
# Workflow DevKit auto-configures for Vercel deployments.
# For local development, it uses the Local World (filesystem-based storage in .workflow-data/).
# No API key required - authentication is handled automatically.
#
# Observability UI: npx workflow web
# CLI inspect: npx workflow inspect runs

# =============================================================================
# Environment
# =============================================================================
# Options: development, production, test
NODE_ENV=development
